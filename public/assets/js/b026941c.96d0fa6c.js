"use strict";(self.webpackChunkgds_bootcamp=self.webpackChunkgds_bootcamp||[]).push([[764],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),d=s(n),m=i,h=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(h,l(l({ref:t},u),{},{components:n})):a.createElement(h,l({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=d;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7305:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const o={},l="3.2 CI/CD Pipeline Enhancements",r={unversionedId:"ci-cd/CICD-Enhancements",id:"ci-cd/CICD-Enhancements",title:"3.2 CI/CD Pipeline Enhancements",description:"Introduction",source:"@site/docs/ci-cd/32-CICD-Enhancements.md",sourceDirName:"ci-cd",slug:"/ci-cd/CICD-Enhancements",permalink:"/docs/ci-cd/CICD-Enhancements",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ci-cd/32-CICD-Enhancements.md",tags:[],version:"current",sidebarPosition:32,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"3.1 Docker Images and CI/CD",permalink:"/docs/ci-cd/Docker-Images"},next:{title:"4. Infrastructure as Code",permalink:"/docs/category/4-infrastructure-as-code"}},c={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Enhancing the CI/CD Pipeline",id:"enhancing-the-cicd-pipeline",level:2},{value:"Code Quality",id:"code-quality",level:3},{value:"Stretch Goal 1",id:"stretch-goal-1",level:4},{value:"SAST(Static Application Security Testing) Scanning",id:"saststatic-application-security-testing-scanning",level:3},{value:"Stretch Goal 2",id:"stretch-goal-2",level:4},{value:"Container Scanning",id:"container-scanning",level:3},{value:"Stretch Goal 3",id:"stretch-goal-3",level:4},{value:"DAST(Dynamic Application Security Testing) Scanning",id:"dastdynamic-application-security-testing-scanning",level:3},{value:"Stretch Goal 4",id:"stretch-goal-4",level:4}],u={toc:s};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"32-cicd-pipeline-enhancements"},"3.2 CI/CD Pipeline Enhancements"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"This exercise is an ",(0,i.kt)("strong",{parentName:"p"},"optional")," stretch goal. If you are short on time, you may wish to work on this exercise after the workshop. ")),(0,i.kt)("p",null,"In this exercise, we will be extending the CI/CD pipeline you created in the ",(0,i.kt)("a",{parentName:"p",href:"./Docker-Images"},"previous exercise")," to add several automated tools."),(0,i.kt)("p",null,"These include:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Code Quality Scanning"),(0,i.kt)("li",{parentName:"ol"},"SAST Scanning"),(0,i.kt)("li",{parentName:"ol"},"Container Scanning"),(0,i.kt)("li",{parentName:"ol"},"DAST Scanning")),(0,i.kt)("p",null,'Leveraging on these tools allows Developers to detect and prevent defects in their codebase earlier in the Software Development Lifecycle (SDLC) more frequently. This is known as "Shift-Left Testing" in DevOps, and it fully embodies the "Test early and often" mantra typically seen in Agile organizations practicing iterative development.'),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"You should have completed all previous exercises:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/ci-cd/DevOps-Setup"},"DevOps Setup")," "),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/ci-cd/Docker-Images"},"Docker Images and CI/CD")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"/docs/infrastructure/Infrastructure-Setup"},"Deployment to Cloud"))),(0,i.kt)("h2",{id:"enhancing-the-cicd-pipeline"},"Enhancing the CI/CD Pipeline"),(0,i.kt)("h3",{id:"code-quality"},"Code Quality"),(0,i.kt)("p",null,"To ensure your project\u2019s code stays simple, readable, and easy to contribute to, you can use GitLab CI/CD to analyze your source code quality."),(0,i.kt)("p",null,"For example, while you\u2019re implementing a feature, you can run Code Quality reports to analyze how your improvements are impacting your code\u2019s quality. You can use this information to ensure that your changes are improving performance rather than degrading it."),(0,i.kt)("p",null,"Code Quality help to flag out:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Non-adherence to coding standards and conventions"),(0,i.kt)("li",{parentName:"ul"},"Common logical bugs / errors"),(0,i.kt)("li",{parentName:"ul"},"Hard-to-maintain patterns")),(0,i.kt)("h4",{id:"stretch-goal-1"},"Stretch Goal 1"),(0,i.kt)("p",null,"Add a new job in ",(0,i.kt)("inlineCode",{parentName:"p"},".github-ci.yml")," to introduce Code Quality Checks to the codebase."),(0,i.kt)("p",null,"Include the Code Quality Template in your CI Configuration, Code Quality job will default to run on the ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," stage, so ensure that test stage is included in your CI configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"include:\n  - template: Code-Quality.gitlab-ci.yml\n")),(0,i.kt)("p",null,"Requirements:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Flag out code quality issues in the frontend and backend source code"),(0,i.kt)("li",{parentName:"ol"},"Have a look at how ",(0,i.kt)("strong",{parentName:"li"},"Code Quality Scan")," works ",(0,i.kt)("a",{parentName:"li",href:"https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Code-Quality.gitlab-ci.yml"},"here"),".")),(0,i.kt)("h3",{id:"saststatic-application-security-testing-scanning"},"SAST(Static Application Security Testing) Scanning"),(0,i.kt)("p",null,"If you\u2019re using GitLab CI/CD, you can use Static Application Security Testing (SAST) to check your source code for known vulnerabilities. You can run SAST analyzers in any GitLab tier. The analyzers output JSON-formatted reports as job artifacts."),(0,i.kt)("p",null,"SAST Scan helps to flag out:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Code that has a potentially dangerous attribute in a class, or unsafe code that can lead to unintended code execution."),(0,i.kt)("li",{parentName:"ul"},"Your application is vulnerable to cross-site scripting (XSS) attacks that can be leveraged to unauthorized access to session data.")),(0,i.kt)("h4",{id:"stretch-goal-2"},"Stretch Goal 2"),(0,i.kt)("p",null,"Add a new job in ",(0,i.kt)("inlineCode",{parentName:"p"},".github-ci.yml")," to introduce static code scanning to the codebase."),(0,i.kt)("p",null,"Include the SAST Scan Template in your CI Configuration, SAST job will default to run on the ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," stage, so ensure that test stage is included in your CI configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"stages:\n  - test\n\ninclude:\n  - template: Security/SAST.gitlab-ci.yml\n")),(0,i.kt)("p",null,"Requirements:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Flag out source code vulnerabilities and observe its severity."),(0,i.kt)("li",{parentName:"ol"},"Have a look at how ",(0,i.kt)("strong",{parentName:"li"},"SAST Scan")," works ",(0,i.kt)("a",{parentName:"li",href:"https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/SAST.gitlab-ci.yml"},"here"),".")),(0,i.kt)("h3",{id:"container-scanning"},"Container Scanning"),(0,i.kt)("p",null,"In almost all projects small or large, you will likely depend on external libraries to develop your applications. You may take a look at the dependencies required by the frontend and backend in the respective ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," files."),(0,i.kt)("p",null,"Even the most widely used dependencies may contain vulnerabilities. Vulnerabilities in dependencies may expose your application to potential exploitation and affects its security posture. It is important to keep all dependencies up-to-date so that these security risks are mitigated."),(0,i.kt)("p",null,"However, it is tedious to perform these checks manually, especially for larger projects that utilise many external libraries. It is also difficult to be thorough, since the libraries may also depend on other libraries that could contain vulnerabilities."),(0,i.kt)("p",null,"This process of scanning your application for such vulnerabilities can be fully-automated with the help of a CI/CD pipeline and image scanning tools. When vulnerabilities are discovered and publicly disclosed, they are usually assigned a ",(0,i.kt)("a",{parentName:"p",href:"https://cve.mitre.org/"},"Common Vulnerabilities and Exposures glossary (CVE)")," entry with a unique ID. Whenever the pipeline runs, these automated tools reference known CVEs to detect vulnerable dependencies in your application and propose remediation measures."),(0,i.kt)("p",null,"Some tools may also include additional compliance checks to ensure that applications adhere to industry-recognized benchmarks or best practices, such as the ",(0,i.kt)("a",{parentName:"p",href:"https://www.cisecurity.org/benchmark/docker/"},"CIS Docker Benchmarks"),"."),(0,i.kt)("h4",{id:"stretch-goal-3"},"Stretch Goal 3"),(0,i.kt)("p",null,"Add a new job in ",(0,i.kt)("inlineCode",{parentName:"p"},".gitlab-ci.yml")," to automatically scan the frontend and backend images for vulnerabilities."),(0,i.kt)("p",null,"Include the Container Scanning Template in your CI Configuration, Container Scanning job will default to run on the ",(0,i.kt)("inlineCode",{parentName:"p"},"test")," stage, so ensure that test stage is included in your CI configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"stages:\n  - test\n\ninclude:\n  - template: Security/Container-Scanning.gitlab-ci.yml\n")),(0,i.kt)("p",null,"Requirements:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Flag out vulnerabilities found in the images"),(0,i.kt)("li",{parentName:"ol"},"Have a look at how ",(0,i.kt)("strong",{parentName:"li"},"Container Scanning")," works ",(0,i.kt)("a",{parentName:"li",href:"https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Security/Container-Scanning.gitlab-ci.yml"},"here"),".")),(0,i.kt)("p",null,"There are several open-source Security scanning Gitlab tools available to accomplish this task. You may consider using the ",(0,i.kt)("a",{parentName:"p",href:"https://gitlab.com/gitlab-org/gitlab/-/tree/master/lib/gitlab/ci/templates/Security"},"Gitlab Security Scan Templates")," for more Security Scan coverage."),(0,i.kt)("h3",{id:"dastdynamic-application-security-testing-scanning"},"DAST(Dynamic Application Security Testing) Scanning"),(0,i.kt)("p",null,"If you deploy your web application into a new environment, your application may become exposed to new types of attacks. For example, misconfigurations of your application server or incorrect assumptions about security controls may not be visible from the source code."),(0,i.kt)("p",null,"Dynamic Application Security Testing (DAST) examines applications for vulnerabilities like these in deployed environments. DAST uses the open source tool OWASP Zed Attack Proxy for analysis."),(0,i.kt)("h4",{id:"stretch-goal-4"},"Stretch Goal 4"),(0,i.kt)("p",null,"Add a new job in ",(0,i.kt)("inlineCode",{parentName:"p"},".gitlab-ci.yml")," to automatically scan the newly deployed web application."),(0,i.kt)("p",null,"Include the DAST Template in your CI Configuration, DAST Scanning job will default to run on the ",(0,i.kt)("inlineCode",{parentName:"p"},"dast")," stage, so ensure that dast stage is included in your CI configuration."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"include:\n  - template: DAST.gitlab-ci.yml\n\nstages:\n  - dast\n\nvariables:\n  DAST_WEBSITE: https://example.com\n")),(0,i.kt)("p",null,"Requirements:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Analyse report produced on your application"),(0,i.kt)("li",{parentName:"ol"},"Have a look at how ",(0,i.kt)("strong",{parentName:"li"},"DAST Scanning")," works ",(0,i.kt)("a",{parentName:"li",href:"https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Security/DAST.gitlab-ci.yml"},"here"),".")),(0,i.kt)("p",null,"DAST can analyze applications in two ways:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Passive scan only (DAST default). DAST executes ",(0,i.kt)("a",{parentName:"li",href:"https://www.zaproxy.org/docs/docker/baseline-scan/"},"ZAP\u2019s Baseline Scan")," and doesn\u2019t actively attack your application."),(0,i.kt)("li",{parentName:"ol"},"Passive and active scan. DAST can be ",(0,i.kt)("a",{parentName:"li",href:"https://docs.gitlab.com/ee/user/application_security/dast/#full-scan"},"configured")," to also perform an active scan to attack your application and produce a more extensive security report. It can be very useful when combined with Review Apps.")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"Congratulations on completing the stretch goals! Do remember to move on to the ",(0,i.kt)("a",{parentName:"p",href:"/docs/infrastructure/CleanUp"},"Final"),"  exercise to clean up your cloud environment."),(0,i.kt)("hr",null))}p.isMDXComponent=!0}}]);