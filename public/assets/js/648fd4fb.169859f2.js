"use strict";(self.webpackChunkgds_bootcamp=self.webpackChunkgds_bootcamp||[]).push([[8433],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,f=u["".concat(c,".").concat(m)]||u[m]||s[m]||o;return n?a.createElement(f,i(i({ref:t},d),{},{components:n})):a.createElement(f,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5603:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const o={},i="1.3 Extra content: Validating data",l={unversionedId:"backend/Validation",id:"backend/Validation",title:"1.3 Extra content: Validating data",description:"This is an optional exercise",source:"@site/docs/backend/13-Validation.md",sourceDirName:"backend",slug:"/backend/Validation",permalink:"/docs/backend/Validation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/13-Validation.md",tags:[],version:"current",sidebarPosition:13,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"1.2 Calling other services",permalink:"/docs/backend/OtherServices"},next:{title:"2. Frontend",permalink:"/docs/category/2-frontend"}},c={},p=[{value:"Extra checkpoint",id:"extra-checkpoint",level:3}],d={toc:p};function s(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"13-extra-content-validating-data"},"1.3 Extra content: Validating data"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This is an optional exercise")),(0,r.kt)("p",null,"Another vital component in backend applications is validation - whenever data can be modified, there should be measures to ensure that it does not get corrupted."),(0,r.kt)("p",null,"For example, with the current way we update our TodoList it is possible to send a ",(0,r.kt)("inlineCode",{parentName:"p"},'"PUT /todos/{id}"')," that looks like this:"),(0,r.kt)("p",null,"Request to ",(0,r.kt)("inlineCode",{parentName:"p"},"PUT /api/todos/{id of existing Todo}")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    id: "I can put anything here, I can even put the UUID of another todo"\n    description: "Regular description"\n    done: false\n}\n\n')),(0,r.kt)("p",null,'Another simple example would be if we wanted to prevent certain data from being deleted. (e.g. A todo with the description "Improve backend")'),(0,r.kt)("p",null,"To prevent these scenarios, let's implement two extra checks to our app:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"When a PUT request is made, if the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," in the path and body do not match then return a code 409",(0,r.kt)("sup",{parentName:"li",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," error with the message ",(0,r.kt)("inlineCode",{parentName:"li"},"UUID in path and body do not match")," "),(0,r.kt)("li",{parentName:"ol"},"When a DELETE request is made, if the ",(0,r.kt)("inlineCode",{parentName:"li"},"description")," of the Todo is ",(0,r.kt)("inlineCode",{parentName:"li"},"Improve backend")," - return a code 405",(0,r.kt)("sup",{parentName:"li",id:"fnref-2"},(0,r.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," error with the message ",(0,r.kt)("inlineCode",{parentName:"li"},"This todo cannot be deleted")," ")),(0,r.kt)("h3",{id:"extra-checkpoint"},"Extra checkpoint"),(0,r.kt)("p",null,"You can use the command ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run test:extra")," to see if you've validated these scenarios correctly."),(0,r.kt)("hr",null),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\ud83d\udea9 Are you stuck? Fear not! You can proceed on by checking out to the next checkpoint \ud83d\ude00"),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre"},"git checkout checkpoint-4\n"))),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409"},"HTTP code 409 - Conflict"),(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,r.kt)("li",{parentName:"ol",id:"fn-2"},(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409"},"HTTP code 405 - Method Not Allowed"),(0,r.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}s.isMDXComponent=!0}}]);